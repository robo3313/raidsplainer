<!doctype html>
<html>
  <head>
    <title>Raidleading</title>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="js/rl.js"></script>
    <!--<script type="text/javascript" src="data/players.json"></script>-->
    <meta charset="UTF-8">
  </head>
  <body>
    <div class="container">
      <canvas id="myCanvas" width="700" height="700"></canvas>
      <div class="text">
        <button type="button" onClick="rl.resume()">Play</button> 
        <button type="button" onClick="rl.pause()">Pause</button> 
        <span id="timer"></span>
        <button type="button" onClick="rl.goToEvent(0)">PF 1</button> 
        <button type="button" onClick="rl.goToEvent(15)">PF 2</button> 
        <button type="button" onClick="rl.goToEvent(46)">PF 3</button> 
        <button type="button" onClick="rl.goToEvent(78)">PF 4</button> 
        <div id="timeline"></div>
        <div id="phase" class="title"></div>
        <div id="event-title" class="title"></div>
        <div id="event-description" class="description"></div>
      </div>
    </div>
    <div class="images" style="display:none;">
      <img src="images/plan.png" id="plan" alt="Map">
      <img src="images/deathknight.png" id="deathknight" alt="deathknight">
      <img src="images/demonhunter.png" id="demonhunter" alt="demonhunter">
      <img src="images/druid.png" id="druid" alt="druid">
      <img src="images/hunter.png" id="hunter" alt="hunter">
      <img src="images/mage.png" id="mage" alt="mage">
      <img src="images/monk.png" id="monk" alt="monk">
      <img src="images/paladin.png" id="paladin" alt="paladin">
      <img src="images/priest.png" id="priest" alt="priest">
      <img src="images/rogue.png" id="rogue" alt="rogue">
      <img src="images/shaman.png" id="shaman" alt="shaman">
      <img src="images/warlock.png" id="warlock" alt="warlock">
      <img src="images/warrior.png" id="warrior" alt="warrior">

      <img src="images/abilities/fury.jpg" id="fury" alt="fury">
      <img src="images/abilities/veil.jpg" id="veil" alt="veil">
      <img src="images/abilities/soak.jpg" id="soak" alt="soak">
      <img src="images/abilities/blackarrow.jpg" id="blackarrow" alt="blackarrow">
      <img src="images/abilities/nightblade.jpg" id="knives" alt="knives">

      <img src="images/abilities/timewarp.jpg" id="timewarp" alt="timewarp">
      <img src="images/abilities/massdispell.jpg" id="massdispell" alt="massdispell">
      <img src="images/abilities/iceblock.jpg" id="iceblock" alt="iceblock">
      <img src="images/abilities/divineshield.jpg" id="divineshield" alt="divineshield">
      <img src="images/abilities/cloak.jpg" id="cloak" alt="cloak">
      <img src="images/abilities/turtle.jpg" id="turtle" alt="turtle">
    </div>
  </body>
  <script>
    let canvas = document.getElementById("myCanvas");
    let ctx = canvas.getContext("2d");
    const rl = new RaidLeading(ctx, 10);
    const abilities = { 
      "fury": {},
      "veil": {},
      "soak": {},
      "blackarrow": {},
      "knives": {},

      "timewarp": {},
      "massdispell": {},
      "iceblock": {},
      "divineshield": {},
      "cloak": {},
      "turtle": {},
    }
    const poolRadius = 60;
    const smallPoolRadius = 120;
    const mediumPoolRadius = 240;
    const bigPoolRadius = 360;

    const positions = {
      "preparingNextPlatform": {x: 350, y: 100},
      "stacked": {x: 350, y: 350},
      "nextPlatform": {x: 350, y: -50},
      "platformStart": {x: 50, y: 350},
      "pool1": {x: 350, y: 150},
      "pool2": {x: 650, y: 250},
      "pool3": {x: 350, y: 550},
      "arrowPos1" : {x:330, y: -50},
      "arrowPrepPos2" : {x:680, y: 20},
      "arrowPos2" : {x:680, y: -50},
      "arrowPrepPos3" : {x:20, y: 20},
      "arrowPos3" : {x:20, y: -50},
      "arrowSimplePrePos" : {x: 350, y:20},
      "arrowSimplePos" : {x: 350, y:-50},
      "arrowPF4RaidPos": {x:30, y: 30},
      "arrowPF4Pos": {x: 670, y:670},
      "soak1": {x: 60, y: 300},
      "soak2": {x: 60, y: 480},
      "soak3": {x: 60, y: 660},
      "soak4": {x: 180, y: 660},
      
      "fury": {x: 350, y: 350},
    };

    const phases = {
      1: {name: "Plate-forme 1", events: []},
      2: {name: "Plate-forme 2", events: []},
      3: {name: "Plate-forme 3", events: []},
      4: {name: "Plate-forme 4", events: []},
    }

    const players = {
        "1": {"name":"Stonks", "x": 200, "y": 200, "speed": 30, "imageId": "druid", "groups": "melee tank all",
            "positions": {
                "spread": {"x": 190, "y": 210},
                "melee": {"x": 300, "y": 300},
                "dispell": {"x": 40, "y": 660},
                "dispellP4": {"x": 40, "y": 660}
            }
        },
        "2": {"name":"Mongoliste", "x": 200, "y": 250, "speed": 30, "imageId": "monk", "groups": "melee tank all",
            "positions": {
                "spread": {"x": 350, "y": 310},
                "melee": {"x": 350, "y": 350},
                "dispell": {"x": 660, "y": 660},
                "dispellP4": {"x": 660, "y": 40}
            }
        },
        "3": {"name":"Azulis", "x": 200, "y": 300, "speed": 30, "imageId": "druid", "groups": "ranged healer all",
            "positions": {
                "spread": {"x": 30, "y": 130}
            }
        },
        "4": {"name":"Kailu", "x": 250, "y": 200, "speed": 30, "imageId": "shaman", "groups": "ranged healer all",
            "positions": {
                "spread": {"x": 510, "y": 20}
            }
        },
        "5": {"name":"Faymz", "x": 200, "y": 400, "speed": 30, "imageId": "deathknight", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 510, "y": 390},
                "melee": {"x": 400, "y": 350}
            }
        },
        "6": {"name":"Lyriel", "x": 200, "y": 350, "speed": 30, "imageId": "hunter", "groups": "ranged healer all",
            "positions": {
                "spread": {"x": 670, "y": 490},
                "melee": {"x": 400, "y": 350}
            }
        },
        "7": {"name":"Giin",  "x": 300, "y": 250, "speed": 30, "imageId": "rogue", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 190, "y": 390},
                "melee": {"x": 300, "y": 350}
            }
        },
        "8": {"name":"Bak", "x": 250, "y": 350, "speed": 30, "imageId": "paladin", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 350, "y": 490},
                "melee": {"x": 350, "y": 400}
            }
        },
        "9": {"name":"Zarga", "x": 300, "y": 200, "speed": 30, "imageId": "warrior", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 510, "y": 210},
                "melee": {"x": 400, "y": 300}
            }
        },
        "10": {"name":"Dumys", "x": 250, "y": 400, "speed": 30, "imageId": "demonhunter", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 350, "y": 130},
                "melee": {"x": 350, "y": 300}
            }
        },
        "11": {"name":"Kehilde", "x": 350, "y": 250, "speed": 30, "imageId": "warlock", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 190, "y": 20}
            }
        },
        "12": {"name":"Cirdan", "x": 250, "y": 250, "speed": 30, "imageId": "druid", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 670, "y": 130}
            }
        },
        "13": {"name":"Tyttuss", "x": 350, "y": 300, "speed": 30, "imageId": "hunter", "groups": "ranged dps all",
            "positions":{
                "spread": {"x": 30, "y": 310}
            }
        },
        "14": {"name":"Lauktar", "x": 250, "y": 300, "speed": 30, "imageId": "druid", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 670, "y": 310}
            }
        },
        "15": {"name":"Owiste", "x": 350, "y": 200, "speed": 30, "imageId": "hunter", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 30, "y": 490}
            }
        },
        "16": {"name":"Shakkaliste", "x": 300, "y": 350, "speed": 30, "imageId": "mage", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 30, "y": 670}
            }
        },
        "17": {"name":"Grabuge", "x": 300, "y": 300, "speed": 30, "imageId": "monk", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 190, "y": 575},
                "melee": {"x": 300, "y": 400}
            }
        },
        "18": {"name":"Shamyaleau", "x": 300, "y": 400, "speed": 30, "imageId": "shaman", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 350, "y": 670},
                "dispell": {"x":40, "y":40}
            }
        },
        "19": {"name":"Abrams", "x": 350, "y": 350, "speed": 30, "imageId": "demonhunter", "groups": "melee dps all",
            "positions": {
                "spread": {"x": 510, "y": 575},
                "melee": {"x": 400, "y": 400}
            }
        },
        "20": {"name":"Dedramomo", "x": 350, "y": 400, "speed": 30, "imageId": "priest", "groups": "ranged dps all",
            "positions": {
                "spread": {"x": 670, "y": 670}
            }
        }
    };

    const events = [
      //PF 1 : 14 events
      {time: 1, phase: 1, name: '', description: ''},
      {time: 3, phase: 1, name: 'Placement', description: "On prend les places de base, spread pour les ranged, melee pour ceux qui doivent l'être. <br>Positions assignées individuellement",
        groups: {
          "melee": {position: "melee"},
          "ranged": {position: "spread"}
        },
        players: {
          "1": {position: {x: -100, y: -50}},
          "18": {position: {x: 400, y: -50}},
        }
      },
      {time: 2, phase: 1, name: 'Flaques', description: 'On évite les impacts violets, ils font très mal.<br>Le placement des flaques est aléatoire.<br>On fait attention a pas se prendre / marcher dans les flaques violettes.<br>Stonks et Shamyaleau partent nettoyer les plateformes 3, 4 et 2',
        players: {
          "14": {position: {x: 670, y: 400}},
        }, drawings: [
          {type: "disc", position: positions["pool1"], r: poolRadius, color: "#400040"},
          {type: "disc", position: positions["pool2"], r: poolRadius, color: "#400040"},
          {type: "disc", position: positions["pool3"], r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 1, name: 'Clear Plate-forme de Mongoliste', description: 'Le placement des flaques est aléatoire',
        players: {
          "2": {position: positions["pool1"]},
        }, drawings: [
          {type: "disc", position: positions["pool1"], r: poolRadius, color: "#400040"},
          {type: "disc", position: positions["pool2"], r: poolRadius, color: "#400040"},
          {type: "disc", position: positions["pool3"], r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 1, name: 'Clear Plate-forme de Mongoliste', description: 'Le placement des flaques est aléatoire',
        players: {
          "2": {position: positions["pool2"]},
        }, drawings: [
          {type: "disc", position: positions["pool2"], r: poolRadius, color: "#400040"},
          {type: "disc", position: positions["pool3"], r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 1, name: 'Clear Plate-forme de Mongoliste', description: 'Le placement des flaques est aléatoire',
        players: {
          "2": {position: positions["pool3"]},
        }, drawings: [
          {type: "disc", position: positions["pool3"], r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 1, name: 'Spread', description: "Les melees se placent.<br>Les rangeds se replacent si besoin.<br>Positions assignées individuellement",
        groups: {
          "melee": {position: "spread"},
        }, players: {
          "1": {position: {x: -100, y: -50}},
          "14": {position: "spread"}
        }
      },
      {time: 3, phase: 1, name: 'Veil', description: 'On veut pas toucher les copains avec le veil',
        players: {
          "1": {position: {x: -100, y: 660}},
        }, abilities: [
          {id: "veil", name: "Veil", position: players["15"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["9"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["8"].positions["spread"]},
        ]
      },
      {time: 3, phase: 1, name: 'Stack + placement Stonks & Shamyaleau', description: 'Pour simplifier le heal des veils et de la furie.<br>Shamyaleau se place coin intérieur, Stonks coin côté',
        groups: {
          "all": {position: positions["stacked"]}
        }, players: {
          "1": {position: "dispell"},
          "18": {position: "dispell"},
        }
      },
      {time: 3, phase: 1, name: 'Dispell Stonks & Shamyaleau', description : "3 se dispell, un healer dispell Stonks, ils se stack.<br>Mongoliste se place coin extérieur.",
        players: {
          "1": {position: positions["stacked"]},
          "2": {position: "dispell"},
          "18": {position: positions["stacked"]},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 4, phase: 1, name: 'Dispell Mongoliste', description : "Un healer dispell Mongoliste.<br>Vu le timing cela arrivera très probablement pendant la furie",
        players: {
          "2": {position: positions["stacked"]},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 4, phase: 1, name: 'Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities: [
          {id: "fury", name: "Furie", position: positions["fury"]}
        ], drawings: [
          {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 1, name: 'Déplacement', description: 'On se prépare à quitter la plate-forme',
        groups: {
          "all": {position: positions["preparingNextPlatform"]}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 1, name: 'Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        abilities: [
          {id: "massdispell", name:"Mass Dispell", position: positions["preparingNextPlatform"]},
        ], drawings: [
            {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
            {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
            {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
          ]
      },
      {time: 1, phase: 1, name: 'Raze', description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        groups: {
          "all": {position: positions["nextPlatform"]}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },

      //PF 2 : 32 events
      {time: 1, phase: 2, name: '', description: '',
        groups: {
          "all": {teleport: positions["platformStart"]},
        }
      },
      {time: 3, phase: 2, name: 'Placement', description: 'Positions assignées individuellement',
        groups: {
          "all": {position: positions["stacked"]},
        }
      },
      {time: 3, phase: 2, name: 'Arrow&nbsp;complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "2": {image: "blackarrow", text: "1", position: positions["arrowPos1"]},
        }
      },
      {time: 3, phase: 2, name: 'Arrow&nbsp;complexes 1', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "8": {image: "blackarrow", text: "2", position: positions["arrowPrepPos2"]},
          "16": {image: "blackarrow", text: "3", position: positions["arrowPrepPos3"]},
        }
      },
      {time: 3, phase: 2, name: 'Arrow&nbsp;complexes 2', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "2": {position: positions["stacked"]},
          "8": {position: positions["arrowPos2"], image: "blackarrow", text: "2"},
          "16" : {position: positions["arrowPos3"], image: "blackarrow", text: "3"}
        }
      },
      {time: 2, phase: 2, name: 'Arrow&nbsp;complexes 3', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "8": {position: positions["arrowPrepPos2"]},
          "16": {image: "blackarrow", text: "3"},
        }
      },
      {time: 3, phase: 2, name: 'Arrow&nbsp;complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "8": {position: positions["stacked"]},
          "16": {image: "blackarrow", text: "3"},
        }
      },
      {time: 3, phase: 2, name: 'Arrow&nbsp;complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        players : {
          "16": {position: positions["stacked"]},
        }
      },
      {time: 3, phase: 2, name: 'Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        players: {
          "13": {position: {x: 100, y: 280}, image: "knives"},
          "5": {position: {x: 500, y: 350}, image: "knives"},
          "19": {position: {x: 450, y: 600}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 0, y: 150}, endPosition: {x: 400, y: 700}},
          {type: "line", startPosition: {x: 0, y: 400}, endPosition: {x: 350, y: 0}},
          {type: "line", startPosition: {x: 0, y: 600}, endPosition: {x: 700, y: 600}},
          {type: "line", startPosition: {x: 450, y: 0}, endPosition: {x: 450, y: 700}},
          {type: "line", startPosition: {x: 0, y: 0}, endPosition: {x: 700, y: 500}},
          {type: "line", startPosition: {x:150, y:700}, endPosition: {x: 700, y: 150}},
        ]
      },
      {time: 3, phase: 2, name: 'Spread', description: 'Positions assignées individuellement',
        groups: {
          "all": {position: "spread"},
        }
      },
      {time: 3, phase: 2, name: 'Cri', description: "On veut pas prendre de dégâts inutiles ici",
        drawings : [
          {type: "circle", position: players["1"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["2"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["3"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["4"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["5"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["6"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["7"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["8"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["9"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["10"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["11"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["12"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["13"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["14"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["15"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["16"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["17"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["18"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["19"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["20"].positions["spread"], r: 140, color: "grey"},
        ],
      },
      {time: 3, phase: 2, name: "Veil", description: 'On veut pas toucher les copains avec le veil',
        abilities: [
          {id: "veil", name: "Veil", position: players["12"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["18"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["11"].positions["spread"]},
        ]
      },
      {time: 5, phase: 2, name: 'Soaks simples & Stacking', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        groups: {
          "all": {position: positions["stacked"]}
        }, players: {
          "1": {position: "dispell"},
          "12": {position: {x: 580, y: 70}},
          "14": {position: {x: 620, y: 240}},
        }, abilities : [
          {id:"soak", name:"Soak", position: {x: 610, y: 40}},
          {id:"soak", name:"Soak", position: {x: 660, y: 220}}
        ]
      },
      {time: 2, phase: 2, name: "Dispell Stonks", description : "Un healer dispell Stonks avant la Furie<br> Les joueurs qui ont fait le soak se stack",
        players: {
          "1": {position: positions["stacked"]},
          "12": {position: positions["stacked"]},
          "14": {position: positions["stacked"]},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },

      {time: 2, phase: 2, name: 'Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities: [
          {id: "fury", name: "Furie", position: positions["fury"]}
        ], drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 2, phase: 2, name: 'Flaques', description: 'Le placement des flaques est aléatoire.<br>On fait attention a pas se prendre / marcher dans les flaques violettes.<br>Stonks et Shamyaleau partent nettoyer les plateformes 3, 4 et 2',
        drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 2, phase: 2, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 150}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 2, phase: 2, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 630, y: 330}}
        }, drawings: [
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 2, phase: 2, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 550}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 360, color: "#400040"},
        ]
      },
      {time: 3, phase: 2, name: 'Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        players: {
          "1": {position: positions["stacked"]},
          "5": {position: {x: 500, y: 350}, image: "knives"},
          "13": {position: {x: 100, y: 280}, image: "knives"},
          "19": {position: {x: 450, y: 600}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 0, y: 150}, endPosition: {x:400, y:700}},
          {type: "line", startPosition: {x: 0, y: 400}, endPosition: {x:350, y:0}},
          {type: "line", startPosition: {x: 0, y: 600}, endPosition: {x:700, y:600}},
          {type: "line", startPosition: {x: 450, y: 0}, endPosition: {x:450, y:700}},
          {type: "line", startPosition: {x: 0, y: 0}, endPosition: {x:700, y:500}},
          {type: "line", startPosition: {x:150, y:700}, endPosition: {x:700, y:150}},
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 2, name: 'Arrow + Soaks', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "2": {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "1"},
          "5": {position: "melee"}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 3, phase: 2, name: 'Arrow 1 ', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "2": {position: positions["arrowSimplePos"], image: "blackarrow", text: "1"},
          "15": {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "2"},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 3, phase: 2, name: 'Arrow 2 ', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "2": {position: "spread"},
          "15": {position: positions["arrowSimplePos"], image: "blackarrow", text: "2"},
          "5" : {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "3"},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 3, phase: 2, name: 'Arrow 3 ', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "15": {position: "spread"},
          "5" : {position: positions["arrowSimplePos"], image: "blackarrow", text: "3"}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 3, phase: 2, name: 'Arrow', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "5" : {position: "spread"}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 3, phase: 2, name: 'Spread', description: 'Positions assignées individuellement',
        groups: {
          "all": {position: "spread"},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"}
        ]
      },
      {time: 5, phase: 2, name: 'Soaks', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        players: {
          "12": {position: {x: 580, y: 70}},
          "14": {position: {x: 620, y: 240}},
        }, abilities : [
          {id:"soak", name:"Soak", position: {x:610, y: 40}},
          {id:"soak", name:"Soak", position: {x:660, y: 220}}
        ]
      },
      {time: 3, phase: 2, name: "Veil", description: 'On veut pas toucher les copains avec le veil',
        players: {
          "12": {position: "spread"},
          "14": {position: "spread"}
        }, abilities: [
          {id: "veil", name: "Veil", position: players["16"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["13"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["10"].positions["spread"]},
        ]
      },
      {time: 3, phase: 2, name: 'Déplacement', description: 'On se prépare à quitter la plate-forme',
        groups: {
          "all": {position: positions["preparingNextPlatform"]}
        }
      },
      {time: 3, phase: 2, name: 'Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        abilities: [
          {id: "massdispell", name:"Mass Dispell", position: positions["preparingNextPlatform"]},
        ]
      },
      {time: 2, phase: 2, name: 'Raze', description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        groups: {
          "all": {position: positions["nextPlatform"]}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 100}, r: 300, color: "#400040"},
        ]
      },

      // PF 3 : 20 events
      {time: 1, phase: 3, name: '', description: '',
        groups: {
          "all": {teleport: positions["platformStart"]},
        }
      },      
      {time: 3, phase: 3, name: 'Stack', description: "En prévision de la furie qui arrive",
        groups: {
          "all": {position: positions["stacked"]}
        }
      },

      {time: 3, phase: 3, name: 'Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities: [
          {id: "fury", name: "Furie", position: positions["fury"]}
        ],
      },
      {time: 3, phase: 3, name: 'Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        players: {
          "5": {position: {x: 500, y: 350}, image: "knives"},
          "13": {position: {x: 100, y: 280}, image: "knives"},
          "19": {position: {x: 450, y: 600}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 0, y: 150}, endPosition: {x:400, y:700}},
          {type: "line", startPosition: {x: 0, y: 400}, endPosition: {x:350, y:0}},
          {type: "line", startPosition: {x: 0, y: 600}, endPosition: {x:700, y:600}},
          {type: "line", startPosition: {x: 450, y: 0}, endPosition: {x:450, y:700}},
          {type: "line", startPosition: {x: 0, y: 0}, endPosition: {x:700, y:500}},
          {type: "line", startPosition: {x:150, y:700}, endPosition: {x:700, y:150}},
        ]
      },
      {time: 3, phase: 3, name: 'Spread', description: 'Positions assignées individuellement',
        groups: {
          "all": {position: "spread"}
        }
      },
      {time: 3, phase: 3, name: 'Cri', description: "On veut pas prendre de dégâts inutiles ici",
        drawings: [
          {type: "circle", position: players["1"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["2"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["3"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["4"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["5"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["6"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["7"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["8"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["9"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["10"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["11"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["12"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["13"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["14"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["15"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["16"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["17"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["18"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["19"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["20"].positions["spread"], r: 140, color: "grey"},
        ]
      },
      {time: 3, phase: 3, name: 'Soaks movement', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        groups: {
          "melee": {position: "melee"}
        }, players: {
          "2": {position: {x: positions["soak1"].x +20, y: positions["soak1"].y}},
          "17": {position: {x: positions["soak2"].x + 20, y: positions["soak2"].y - 20}},
          "16": {position: {x: positions["soak3"].x + 20, y: positions["soak3"].y - 20}, image: "iceblock"},
          "18": {position: {x: positions["soak4"].x + 15, y: positions["soak4"].y - 20}},
          "13": {position: {x: positions["soak1"].x, y: positions["soak1"].y + 90}},
          "15": {position: {x: positions["soak2"].x, y: positions["soak2"].y + 90}},
        }, abilities: [
          {id:"soak", name:"Soak", position: positions["soak1"]},
          {id:"soak", name:"Soak", position: positions["soak2"]},
          {id:"soak", name:"Soak", position: positions["soak3"]},
          {id:"soak", name:"Soak", position: positions["soak4"]}
        ],
      },
      {time: 3, phase: 3, name: 'Placement', description: 'On se place pour le veil',
        groups: {
          "all": {position: "spread"}
        }
      },
      {time: 3, phase: 3, name: 'Veil', description: 'On veut pas toucher les copains avec le veil',
        abilities: [
          {id: "veil", name: "Veil", position: players["14"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["5"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["3"].positions["spread"]},
        ]
      },
      {time: 3, phase: 3, name: 'Arrow', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        groups: {
          "all": {position: positions["stacked"]}
        }, players: {
          "4": {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "1"},
        }
      },
      {time: 3, phase: 3, name: 'Arrow 1', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "4": {position: positions["arrowSimplePos"], image: "blackarrow", text: "1"},
          "19": {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "2"},
        },
      },
      {time: 3, phase: 3, name: 'Arrow 2', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "4": {position: positions["stacked"]},
          "19": {position: positions["arrowSimplePos"], image: "blackarrow", text: "2"},
          "18" : {position: positions["arrowSimplePrePos"], image: "blackarrow", text: "3"},
        }
      },
      {time: 3, phase: 3, name: 'Arrow 3', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "19": {position: positions["stacked"]},
          "18" : {position: positions["arrowSimplePos"], image: "blackarrow", text: "3"}
        }
      },
      {time: 3, phase: 3, name: 'Arrow', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players: {
          "18" : {position: positions["stacked"]}
        }
      },
      {time: 2, phase: 3, name: 'Flaques', description: 'Le placement des flaques est aléatoire.<br>On fait attention a pas se prendre / marcher dans les flaques violettes.<br>Stonks et Shamyaleau partent nettoyer les plateformes 3, 4 et 2',
        drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 3, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 150}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 3, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 630, y: 330}}
        }, drawings: [
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 3, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 550}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Stack', description: "En prévision de la furie qui arrive",
        groups: {
          "all": {position: positions["stacked"]}
        }, players: {
          "1": {position: "dispell"},
        }
      },
      {time: 3, phase: 3, name: 'Dispell Stonks', description : "Un healer dispell Stonks, il se stack.<br>",
        players: {
          "1": {position: positions["stacked"]},
          "2": {position: "dispell"},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Dispell Mongoliste', description : "Un healer dispell Mongoliste, il se stack.<br>",
        players: {
          "2": {position: positions["stacked"]},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },

      {time: 3, phase: 3, name: 'Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities: [
          {id: "fury", name: "Furie", position: {x: 350, y: 350}}
        ], drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Soaks immune', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br><br>Ici il ne faut pas hésiter a utiliser des immunes mobiles, comme la cape d'ombre, bubulle, turtle, pour éviter de ramasser les débuffs de flaques.",
        players: {
          "7": {position: {x: positions["soak1"].x + 20, y: positions["soak1"].y}, image: "cloak"},
          "13": {position: {x: positions["soak2"].x + 20, y: positions["soak2"].y - 10}, image: "turtle"},
          "15": {position: {x: positions["soak3"].x + 20, y: positions["soak3"].y - 20}, image: "turtle"},
          "6": {position: {x: positions["soak4"].x + 20, y: positions["soak4"].y - 20}, image: "turtle"},
        }, abilities : [
          {id:"soak", name:"Soak", position: positions["soak1"]},
          {id:"soak", name:"Soak", position: positions["soak2"]},
          {id:"soak", name:"Soak", position: positions["soak3"]},
          {id:"soak", name:"Soak", position: positions["soak4"]}
        ], drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        players: {
          "5":  {position: {x: 500, y: 350}, image: "knives"},
          "7": {position: positions["stacked"]},
          "13": {position: {x: 100, y: 280}, image: "knives"},
          "18": {position: positions["stacked"]},
          "16": {position: positions["stacked"]},
          "19": {position: {x: 450, y: 450}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 0, y: 150}, endPosition: {x:400, y:700}},
          {type: "line", startPosition: {x: 0, y: 400}, endPosition: {x:350, y:0}},
          {type: "line", startPosition: {x: 0, y: 600}, endPosition: {x:700, y:600}},
          {type: "line", startPosition: {x: 450, y: 0}, endPosition: {x:450, y:700}},
          {type: "line", startPosition: {x: 0, y: 0}, endPosition: {x:700, y:500}},
          {type: "line", startPosition: {x:150, y:700}, endPosition: {x:700, y:150}},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 2, phase: 3, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 40, y: 660}},
          "5":  {position: "melee"},
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 2, phase: 3, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 660, y: 660}}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Spread', phase: 3, description: 'En prévision du veil',
        groups: {
          "all": {position: "spread"}
        }, drawings: [
          {type: "disc", position: {x: 40, y: 660}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 660}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 3, name: 'Veil', phase: 3, description: 'On veut pas toucher les copains avec le veil',
        abilities: [
          {id: "veil", name: "Veil", position: players["20"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["2"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["13"].positions["spread"]},
        ]
      },
      {time: 3, phase: 3, name: 'Déplacement', phase: 3, description: 'On se prépare à quitter la plate-forme',
        groups: {
          "all": {position: positions["preparingNextPlatform"]},
        },
      },
      {time: 3, phase: 3, name: 'Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        abilities: [
          {id: "massdispell", name:"Mass Dispell", position: positions["preparingNextPlatform"]},
        ]
      },
      {time: 3, phase: 3, name: 'Raze', phase: 3, description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        groups: {
          "all": {position: positions["nextPlatform"]},
        }, drawings: [
          {type: "disc", position: {x: 350, y: 100}, r: 320, color: "#400040"},
        ]
      },


      //PF 4
      {time: 1, phase: 4, name: '', description: '',
        groups: {
          "all": {teleport: positions["platformStart"]},
        }
      },      
      {time: 3, phase: 4, name: 'Stack', description: "En prévision de la furie qui arrive",
        groups: {
          "all": {position: positions["arrowPF4RaidPos"]},
        }
      },
      {time: 4, phase: 4, name: 'Arrow simples 1', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "1": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "1"},
        }
      },
      {time: 4, phase: 4, name: 'Arrow simples 2', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "1": {position: positions["arrowPF4RaidPos"]},
          "19": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "2"},
        }
      },
      {time: 4, phase: 4, name: 'Arrow simples 3', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "19": {position: positions["arrowPF4RaidPos"]},
          "18": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "3"},
        }
      },
      {time: 4, phase: 4, name: 'Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        players : {
          "2": {position: "dispellP4"},
          "18": {position: positions["arrowPF4RaidPos"]}
        },
      },
      {time: 1, phase: 4, name: 'Dispell Mongoliste', description : "Un healer dispell Mongoliste, il se stack.<br>",
        players: {
          "2": {position: positions["arrowPF4RaidPos"]},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 120, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Furie + Couteaux', description: "Moment dangereux, la il faut éviter de toucher le groupe avec ses couteaux.<br>Il faut également ne pas mourrir, donc utiliser des CDs de survie.",
        abilities: [
          {id: "fury", name: "Furie", position: positions["fury"]}
        ], players: {
          "2": positions["arrowPF4RaidPos"],
          "13": {position: {x: 30, y: 280}, image: "knives"},
          "5": {position: {x: 500, y: 150}, image: "knives"},
          "19": {position: {x: 200, y: 200}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 400, y: 700}},
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 350, y: 0}},
          {type: "line", startPosition: {x: 150, y: 0}, endPosition: {x: 700, y: 250}},
          {type: "line", startPosition: {x: 0, y: 200}, endPosition: {x: 700, y: 200}},
          {type: "line", startPosition: {x: 200, y: 0}, endPosition: {x: 200, y: 700}},
          {type: "line", startPosition: {x:0, y: 650}, endPosition: {x: 650, y:0}},
          {type: "disc", position: {x: 660, y: 40}, r: 120, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Spread', description: 'Positions assignées individuellement',
        groups: {
          "all": {position: "spread"},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 120, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Cri', description: "On veut pas prendre de dégâts inutiles ici",
        drawings : [
          {type: "circle", position: players["1"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["2"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["3"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["4"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["5"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["6"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["7"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["8"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["9"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["10"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["11"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["12"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["13"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["14"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["15"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["16"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["17"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["18"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["19"].positions["spread"], r: 140, color: "grey"},
          {type: "circle", position: players["20"].positions["spread"], r: 140, color: "grey"},
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 4, name: 'Flaques', description: 'Le placement des flaques est aléatoire.<br>On fait attention a pas se prendre / marcher dans les flaques violettes.<br>Stonks et Shamyaleau partent nettoyer les plateformes 3, 4 et 2',
        players: {
          "10": {position: "melee"},
          "14": {position: {x: 670, y: 400}},
          "8": {position: "melee"},
        }, drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 4, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 150}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 150}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 4, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 630, y: 330}}
        }, drawings: [
          {type: "disc", position: {x: 630, y: 300}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 2, phase: 4, name: 'Clear Plate-forme de Stonks', description: 'Le placement des flaques est aléatoire',
        players: {
          "1": {position: {x: 350, y: 550}}
        }, drawings: [
          {type: "disc", position: {x: 350, y: 550}, r: poolRadius, color: "#400040"},
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Placement', description: 'On se place pour le veil',
        players: {
          "14": {position: "spread"},
          "10": {position: "spread"},
          "1": {position: "spread"},
          "8": {position: "spread"},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Veil', description: 'On veut pas toucher les copains avec le veil',
        abilities: [
          {id: "veil", name: "Veil", position: players["14"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["5"].positions["spread"]},
          {id: "veil", name: "Veil", position: players["3"].positions["spread"]},
        ], drawings: [
          {type: "disc", position :{x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ],
      },
      {time: 3, phase: 4, name: 'BL', description: 'Gros dégâts, grosse pyro, grosse bite',
        groups: {
          "all": {position: positions["arrowPF4RaidPos"]}
        }, players: {
          "2": {position:"dispellP4"},
        }, abilities: [
          {id: "timewarp", name: "timewarp", position: {x: 350, y: 350}},
        ], drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: poolRadius, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Dispell Mongoliste', description : "Un healer dispell Mongoliste, il se stack.<br>",
        players: {
          "2": {position: positions["arrowPF4RaidPos"]},
          "1": {position: "dispellP4"},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Dispell Stonks', description : "Un healer dispell Stonks, il se stack.<br>",
        players: {
          "1": {position: positions["arrowPF4RaidPos"]},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },

      {time: 4, phase: 4, name: 'Arrow 1 + Couteaux', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment.<br>Si besoin on peut marcher dans la flaque et demander un dispell juste après",
        players : {
          "2": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "1"},
          "13": {position: {x: 30, y: 280}, image: "knives"},
          "5":   {position: {x: 500, y: 150}, image: "knives"},
          "19": {position: {x: 200, y: 200}, image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 400, y: 700}},
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 350, y: 0}},
          {type: "line", startPosition: {x: 150, y: 0}, endPosition: {x: 700, y: 250}},
          {type: "line", startPosition: {x: 0, y: 650}, endPosition: {x: 650, y: 0}},
          {type: "line", startPosition: {x: 0, y: 200}, endPosition: {x: 700, y: 200}},
          {type: "line", startPosition: {x: 200, y: 0}, endPosition: {x: 200, y: 700}},
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 4, phase: 4, name: 'Arrow 2 + Couteaux', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment.<br>Si besoin on peut marcher dans la flaque et demander un dispell juste après",
        players : {
          "2": {position: positions["arrowPF4RaidPos"]},
          "3": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "2"},
          "13": {image: "knives"},
          "5": {image: "knives"},
          "19": {image: "knives"},
        }, drawings: [
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 400, y: 700}},
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 350, y: 0}},
          {type: "line", startPosition: {x: 150, y: 0}, endPosition: {x: 700, y: 250}},
          {type: "line", startPosition: {x: 0, y: 650}, endPosition: {x: 650, y: 0}},
          {type: "line", startPosition: {x: 0, y: 200}, endPosition: {x: 700, y: 200}},
          {type: "line", startPosition: {x: 200, y: 0}, endPosition: {x: 200, y: 700}},
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 4, phase: 4, name: 'Arrow 3 + Couteaux', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment.<br>Si besoin on peut marcher dans la flaque et demander un dispell juste après",
        players : {
          "3": {position: positions["arrowPF4RaidPos"]},
          "18": {position: positions["arrowPF4Pos"], image: "blackarrow", text: "3"},
          "13": {image: "knives"},
          "5": {image: "knives"},
          "19": {image: "knives"},
        }, drawings: [
        {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 400, y: 700}},
          {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 350, y: 0}},
          {type: "line", startPosition: {x: 150, y: 0}, endPosition: {x: 700, y: 250}},
          {type: "line", startPosition: {x: 0, y: 650}, endPosition: {x: 650, y: 0}},
          {type: "line", startPosition: {x: 0, y: 200}, endPosition: {x: 700, y: 200}},
          {type: "line", startPosition: {x: 200, y: 0}, endPosition: {x: 200, y: 700}},
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 4, phase: 4, name: 'Arrow 4 + Couteaux', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment.<br>Si besoin on peut marcher dans la flaque et demander un dispell juste après",
        players : {
          "18": {position: positions["arrowPF4RaidPos"]},
          "13": {image: "knives"},
          "5": {image: "knives"},
          "19": {image: "knives"},
        }, drawings: [
            {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 400, y: 700}},
            {type: "line", startPosition: {x: 30, y: 280}, endPosition: {x: 350, y: 0}},
            {type: "line", startPosition: {x: 150, y: 0}, endPosition: {x: 700, y: 250}},
            {type: "line", startPosition: {x: 0, y: 650}, endPosition: {x: 650, y: 0}},
            {type: "line", startPosition: {x: 0, y: 200}, endPosition: {x: 700, y: 200}},
            {type: "line", startPosition: {x: 200, y: 0}, endPosition: {x: 200, y: 700}},
            {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
            {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Dispell Stonks', description : "Un healer dispell Stonks, il se stack.<br>",
        players: {
          "1": {position: {x: 450, y: 660}},
          "13": {position: positions["arrowPF4RaidPos"]},
          "5": {position: positions["arrowPF4RaidPos"]},
          "19": {position: positions["arrowPF4RaidPos"]},
        }, drawings:[
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Dispell Stonks', description : "Un healer dispell Stonks, il se stack.<br>",
        players: {
          "1": {position: positions["arrowPF4RaidPos"]},
          "2": {position: {x: 660, y:450}},
        }, drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 450, y: 660}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Dispell Mongoliste', description : "Un healer dispell Mongoliste, il se stack.<br>",
        players: {
          "2": {position: positions["arrowPF4RaidPos"]},
        },
        drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 450, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 450}, r: 240, color: "#400040"},
        ]
      },
      {time: 3, phase: 4, name: 'Furie + Mass dispell', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities: [
          {id: "massdispell", name:"Mass Dispell", position: {x: 65, y: 65}},
          {id: "fury", name: "Furie", position: {x: 350, y: 350}}
        ], drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 450, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 450}, r: 240, color: "#400040"},
        ]
      },
      {time: 10, phase: 4, name: 'End', description: "Tuer ou être tué.<br>On doit utiliser des immunes pour gratter quelques secondes, le temps qu'elle finisse ses animations",
        drawings: [
          {type: "disc", position: {x: 660, y: 40}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 40, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 450, y: 660}, r: 240, color: "#400040"},
          {type: "disc", position: {x: 660, y: 450}, r: 240, color: "#400040"},
        ]
      },
    ];

    rl.setPhases(phases);
    rl.setEvents(events);

    window.onload = function() {
      rl.setPlan(document.getElementById("plan"));
      rl.setPlayers(players);
      rl.setAbilities(abilities);
      rl.start();
    };

    </script>
</html>