<!doctype html>
<html>
  <head>
    <title>Raidleading</title>
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="js/rl.js"></script>
    <meta charset="UTF-8">
  </head>
  <body>
    <div class="container">
      <canvas id="myCanvas" width="700" height="700"></canvas>
      <div class="text">
        <button type="button" onClick="rl.resume()">Play</button> 
        <button type="button" onClick="rl.pause()">Pause</button> 
        <span id="timer"></span>
        <div id="event-title" class="title">
          Plate-forme 1
        </div>
        <div id="event-description" class="description">
        </div>
      </div>
    </div>
    <div class="images">
      <img src="images/plan.png" id="plan" class="floating" alt="Map" style="display:none;">
      <img src="images/deathknight.png" id="deathknight" class="floating" alt="deathknight" style="display:none;">
      <img src="images/demonhunter.png" id="demonhunter" class="floating" alt="demonhunter" style="display:none;">
      <img src="images/druid.png" id="druid" class="floating" alt="druid" style="display:none;">
      <img src="images/hunter.png" id="hunter" class="floating" alt="hunter" style="display:none;">
      <img src="images/mage.png" id="mage" class="floating" alt="mage" style="display:none;">
      <img src="images/monk.png" id="monk" class="floating" alt="monk" style="display:none;">
      <img src="images/paladin.png" id="paladin" class="floating" alt="paladin" style="display:none;">
      <img src="images/priest.png" id="priest" class="floating" alt="priest" style="display:none;">
      <img src="images/rogue.png" id="rogue" class="floating" alt="rogue" style="display:none;">
      <img src="images/shaman.png" id="shaman" class="floating" alt="shaman" style="display:none;">
      <img src="images/warlock.png" id="warlock" class="floating" alt="warlock" style="display:none;">
      <img src="images/warrior.png" id="warrior" class="floating" alt="warrior" style="display:none;">

      <img src="images/abilities/fury.jpg" id="fury" class="floating" alt="fury" style="display:none;">
      <img src="images/abilities/veil.jpg" id="veil" class="floating" alt="veil" style="display:none;">
      <img src="images/abilities/soak.jpg" id="soak" class="floating" alt="soak" style="display:none;">
    </div>
  </body>
  <script>
    let canvas = document.getElementById("myCanvas");
    let ctx = canvas.getContext("2d");
    const time = 10;  //ms

    const rl = new RaidLeading(ctx, time);
    const items = {
      "stonk": {image: null, imageId: "druid", position: {x: 200, y: 200}, speed: 20, target: null},
      "mongo": {image: null, imageId: "monk", position: {x: 200, y: 250}, speed: 20, target: null},
      "azuli": {image: null, imageId: "druid", position: {x: 200, y: 300}, speed: 20, target: null},
      "bak": {image: null, imageId: "paladin", position: {x: 200, y: 350}, speed: 20, target: null},
      "brins": {image: null, imageId: "paladin", position: {x: 200, y: 400}, speed: 20, target: null},
      "shamya": {image: null, imageId: "shaman", position: {x: 250, y: 200}, speed: 20, target: null},
      "cirdan": {image: null, imageId: "druid", position: {x: 250, y: 250}, speed: 20, target: null},
      "laukta": {image: null, imageId: "druid", position: {x: 250, y: 300}, speed: 20, target: null},
      "abrams": {image: null, imageId: "demonhunter", position: {x: 250, y: 350}, speed: 20, target: null},
      "dumys": {image: null, imageId: "demonhunter", position: {x: 250, y: 400}, speed: 20, target: null},
      "zaarg": {image: null, imageId: "warrior", position: {x: 300, y: 200}, speed: 20, target: null},
      "giin": {image: null, imageId: "rogue", position: {x: 300, y: 250}, speed: 20, target: null},
      "lyriel": {image: null, imageId: "hunter", position: {x: 300, y: 300}, speed: 20, target: null},
      "tyttu": {image: null, imageId: "hunter", position: {x: 300, y: 350}, speed: 20, target: null},
      "owist": {image: null, imageId: "hunter", position: {x: 300, y: 400}, speed: 20, target: null},
      "kailu": {image: null, imageId: "shaman", position: {x: 350, y: 200}, speed: 20, target: null},
      "kehil": {image: null, imageId: "warlock", position: {x: 350, y: 250}, speed: 20, target: null},
      "dedra": {image: null, imageId: "priest", position: {x: 350, y: 300}, speed: 20, target: null},
      "morsia": {image: null, imageId: "mage", position: {x: 350, y: 350}, speed: 20, target: null},
      "shakk": {image: null, imageId: "mage", position: {x: 350, y: 400}, speed: 20, target: null}
    };
    const abilities = { 
      "fury": {},
      "veil": {},
      "soak": {}
    }
    const events = [
 /*     {time: 0, name: 'Plate-forme 1', description: 'Spread en attendant le veil'
      },
      {time: 2, name: 'Plate-forme 1 : Spread', description: 'Positions assignées individuellement',
        positions:
        {
          "azuli": {x: 80, y: 150},
          "kehil": {x: 200, y: 50},
          "shamya": {x: 400, y: -50},
          "dumys": {x: 500, y: 150},
          "cirdan": {x: 600, y: 50},
          "dedra": {x: 100, y: 280},
          "stonk": {x: -100, y: -50},
          "mongo": {x: 330, y: 330},
          "zaarg": {x: 425, y: 250},
          "giin": {x: 500, y: 350},
          "laukta": {x: 650, y: 230},
          "kailu": {x: 100, y: 430},
          "abrams": {x: 230, y: 400},
          "brins": {x: 350, y: 450},
          "bak": {x: 500, y: 450},
          "tyttu": {x: 600, y: 400},
          "owist": {x: 120, y: 550},
          "lyriel": {x: 250, y: 600},
          "morsia": {x: 450, y: 600},
          "shakk": {x: 580, y: 580},
        }
      },
      {time: 6, name: 'Plate-forme 1 : Flaques', description: 'Le placement des flaques est aléatoire.<br>On fait attention a pas se prendre / marcher dans les flaques violettes.<br>Stonks et Shamyaleau partent nettoyer les plateformes 3, 4 et 2',
        drawings:
        [
          {type: "disc", x: 350, y: 150, r: 60, color: "#400040"},
          {type: "disc", x: 630, y: 300, r: 60, color: "#400040"},
          {type: "disc", x: 350, y: 550, r: 60, color: "#400040"},
        ]
      },
      {time: 9, name: 'Plate-forme 1 : Veil', description: 'On veut pas toucher les copains avec le veil',
        positions:
        {
          "stonk": {x: -100, y: 660}
        },
        abilities:
        [
          {id: "veil", name: "Veil", x: 100, y: 430},
          {id: "veil", name: "Veil", x: 425, y: 250},
        ],
        drawings:
        [
          {type: "disc", x: 350, y: 150, r: 60, color: "#400040"},
          {type: "disc", x: 630, y: 300, r: 60, color: "#400040"},
          {type: "disc", x: 350, y: 550, r: 60, color: "#400040"},
        ]
      },
      {time: 11, name: 'Plate-forme 1 : Mongoliste clear la plate-forme', description: 'Le placement des flaques est aléatoire',
        positions: {
          "mongo": {x: 350, y: 150}
        },
        drawings:
        [
          {type: "disc", x: 350, y: 150, r: 60, color: "#400040"},
          {type: "disc", x: 630, y: 300, r: 60, color: "#400040"},
          {type: "disc", x: 350, y: 550, r: 60, color: "#400040"},
        ]
      },
      {time: 13, name: 'Plate-forme 1 : Mongoliste clear la plate-forme', description: 'Le placement des flaques est aléatoire',
        positions: {
          "mongo": {x: 630, y: 330}
        },
        drawings:
        [
          {type: "disc", x: 630, y: 300, r: 60, color: "#400040"},
          {type: "disc", x: 350, y: 550, r: 60, color: "#400040"},
        ]
      },
      {time: 15, name: 'Plate-forme 1 : Mongoliste clear la plate-forme', description: 'Le placement des flaques est aléatoire',
        positions: {
          "mongo": {x: 350, y: 550}
        },
        drawings:
        [
          {type: "disc", x: 350, y: 550, r: 60, color: "#400040"},
        ]
      },
      {time: 18, name: 'Plate-forme 1 : Stack & placement Stonks & Shamyaleau', description: 'Pour simplifier le heal des veils et de la furie.<br>Shamyaleau se place coin intérieur, Stonks coin côté',
        positions:
        {
          "azuli": {x: 350, y: 350},
          "kehil": {x: 350, y: 350},
          "shamya": {x: 40, y: 40},
          "dumys": {x: 350, y: 350},
          "cirdan": {x: 350, y: 350},
          "dedra": {x: 350, y: 350},
          "stonk": {x: 40, y: 660},
          "mongo": {x: 350, y: 350},
          "zaarg": {x: 350, y: 350},
          "giin": {x: 350, y: 350},
          "laukta": {x: 350, y: 350},
          "kailu": {x: 350, y: 350},
          "abrams": {x: 350, y: 350},
          "brins": {x: 350, y: 350},
          "bak": {x: 350, y: 350},
          "tyttu": {x: 350, y: 350},
          "owist": {x: 350, y: 350},
          "lyriel": {x: 350, y: 350},
          "morsia": {x: 350, y: 350},
          "shakk": {x: 350, y: 350},
        }
      },
      {time: 21, name: 'Plate-forme 1 : Dispell Stonks & Shamyaleau', description : "Shamy se dispell, un healer dispell Stonks, ils se stack.<br>Mongoliste se place coin extérieur.",
        positions: {
          "stonk": {x: 350, y: 350},
          "shamya": {x: 350, y: 350},
          "mongo": {x: 660, y: 660},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 25, name: 'Plate-forme 1 : Dispell Mongoliste', description : "Un healer dispell Mongoliste.<br>Vu le timing cela arrivera très probablement pendant la furie",
        positions: {
          "mongo": {x: 350, y: 350},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 660, y: 660, r: 240, color: "#400040"},
        ]
      },
      {time: 30, name: 'Plate-forme 1 : Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities:
        [
          {id: "fury", name: "Furie", x: 350, y: 350}
        ],
        drawings:
        [
          {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 660, y: 660, r: 240, color: "#400040"},
        ]
      },
      {time: 33, name: 'Plate-forme 1 : Déplacement', description: 'On se prépare à quitter la plate-forme',
        positions:
        {
          "azuli": {x: 350, y: 100},
          "kehil": {x: 350, y: 100},
          "shamya": {x: 350, y: 100},
          "dumys": {x: 350, y: 100},
          "cirdan": {x: 350, y: 100},
          "dedra": {x: 350, y: 100},
          "stonk": {x: 350, y: 100},
          "mongo": {x: 350, y: 100},
          "zaarg": {x: 350, y: 100},
          "giin": {x: 350, y: 100},
          "laukta": {x: 350, y: 100},
          "kailu": {x: 350, y: 100},
          "abrams": {x: 350, y: 100},
          "brins": {x: 350, y: 100},
          "bak": {x: 350, y: 100},
          "tyttu": {x: 350, y: 100},
          "owist": {x: 350, y: 100},
          "lyriel": {x: 350, y: 100},
          "morsia": {x: 350, y: 100},
          "shakk": {x: 350, y: 100},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 660, y: 660, r: 240, color: "#400040"},
        ]
      },
      {time: 38, name: 'Plate-forme 1 : Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        drawings:
          [
            {type: "disc", x: 350, y: 100, r: 100, color: "#FFFFFF"},
            {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
            {type: "disc", x: 660, y: 660, r: 240, color: "#400040"},
          ]
      },
      {time: 40, name: 'Plate-forme 1 : Raze', description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        positions:
        {
          "azuli": {x: 350, y: 0},
          "kehil": {x: 350, y: 0},
          "shamya": {x: 350, y: 0},
          "dumys": {x: 350, y: 0},
          "cirdan": {x: 350, y: 0},
          "dedra": {x: 350, y: 0},
          "stonk": {x: 350, y: 0},
          "mongo": {x: 350, y: 0},
          "zaarg": {x: 350, y: 0},
          "giin": {x: 350, y: 0},
          "laukta": {x: 350, y: 0},
          "kailu": {x: 350, y: 0},
          "abrams": {x: 350, y: 0},
          "brins": {x: 350, y: 0},
          "bak": {x: 350, y: 0},
          "tyttu": {x: 350, y: 0},
          "owist": {x: 350, y: 0},
          "lyriel": {x: 350, y: 0},
          "morsia": {x: 350, y: 0},
          "shakk": {x: 350, y: 0},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 40, r: 240, color: "#400040"},
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 660, y: 660, r: 240, color: "#400040"},
        ]
      },
      */

      //PF 2
/*
      {time: 0, name: 'Plate-forme 2', description: '',
        teleport:
        {
          "azuli": {x: 350, y: 600},
          "kehil": {x: 350, y: 600},
          "shamya": {x: 350, y: 600},
          "dumys": {x: 350, y: 600},
          "cirdan": {x: 350, y: 600},
          "dedra": {x: 350, y: 600},
          "stonk": {x: 350, y: 600},
          "mongo": {x: 350, y: 600},
          "zaarg": {x: 350, y: 600},
          "giin": {x: 350, y: 600},
          "laukta": {x: 350, y: 600},
          "kailu": {x: 350, y: 600},
          "abrams": {x: 350, y: 600},
          "brins": {x: 350, y: 600},
          "bak": {x: 350, y: 600},
          "tyttu": {x: 350, y: 600},
          "owist": {x: 350, y: 600},
          "lyriel": {x: 350, y: 600},
          "morsia": {x: 350, y: 600},
          "shakk": {x: 350, y: 600},
        }
      },
      {time: 2, name: 'Plate-forme 2 : Spread', description: 'Positions assignées individuellement',
        positions:
        {
          "azuli": {x: 80, y: 150},
          "kehil": {x: 200, y: 50},
          "shamya": {x: 400, y: 50},
          "dumys": {x: 500, y: 150},
          "cirdan": {x: 600, y: 50},
          "dedra": {x: 100, y: 280},
          "stonk": {x: 210, y: 240},
          "mongo": {x: 330, y: 330},
          "zaarg": {x: 425, y: 250},
          "giin": {x: 500, y: 350},
          "laukta": {x: 650, y: 230},
          "kailu": {x: 100, y: 430},
          "abrams": {x: 230, y: 400},
          "brins": {x: 350, y: 450},
          "bak": {x: 500, y: 450},
          "tyttu": {x: 600, y: 400},
          "owist": {x: 120, y: 550},
          "lyriel": {x: 250, y: 600},
          "morsia": {x: 450, y: 600},
          "shakk": {x: 580, y: 580},
        }
      },
      {time: 5, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "mongo": {x:330, y: -50}
        }
      },
      {time: 8, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "abrams": {x: 680, y: 20},
          "tyttu" : {x: 20, y: 20}
        }
      },
      {time: 10, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "mongo": {x: 330, y: 330},
          "abrams": {x: 680, y: -50},
          "tyttu" : {x: 20, y: -50}
        }
      },
      {time: 12, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "abrams": {x: 680, y: 20},
        }
      },
      {time: 15, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "abrams": {x: 230, y: 400},
        }
      },
      {time: 20, name: 'Plate-forme 2 : Arrow complexes', description: "Le moment spécial du combat, il n'y aura que ce set d'Arrow qui sera joué comme ça, les autres seront joués normalement, comme en héro, un joueur a la fois.<br> Ici le tank (joueur 1) part, quand on arrow a explosé, le joueur 2 part en étant le plus possible à l'extérieur et revient dès que son arrow a explosé, le joueur 3 le plus possible à l'intérieur et part sur la prochaine plate-forme dès que possible, il revient quand son arrow a explosé",
        positions :
        {
          "tyttu": {x: 600, y: 400},
        }
      },
      {time: 24, name: 'Plate-forme 2 : Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        drawings : [
          {type:"line", x1:0, y1:150, x2:400, y2:700},
          {type:"line", x1:0, y1:400, x2:350, y2:0},
          {type:"line", x1:0, y1:600, x2:700, y2:600},
          {type:"line", x1:450, y1:0, x2:450, y2:700},
          {type:"line", x1:0, y1:0, x2:700, y2:500},
          {type:"line", x1:150, y1:700, x2:700, y2:150},
        ]
      },
      {time: 27, name: 'Plate-forme 2 : Cri', description: "D'ou l'intérêt de se placer dès l'arrivée sur la plate-forme",
        drawings :
        [
          {type: "circle", x: 80, y: 150, r: 70, color: "grey"},
          {type: "circle", x: 200, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 400, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 150, r: 70, color: "grey"},
          {type: "circle", x: 600, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 100, y: 280, r: 70, color: "grey"},
          {type: "circle", x: 210, y: 240, r: 70, color: "grey"},
          {type: "circle", x: 330, y: 330, r: 70, color: "grey"},
          {type: "circle", x: 425, y: 250, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 350, r: 70, color: "grey"},
          {type: "circle", x: 650, y: 230, r: 70, color: "grey"},
          {type: "circle", x: 100, y: 430, r: 70, color: "grey"},
          {type: "circle", x: 230, y: 400, r: 70, color: "grey"},
          {type: "circle", x: 350, y: 450, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 450, r: 70, color: "grey"},
          {type: "circle", x: 600, y: 400, r: 70, color: "grey"},
          {type: "circle", x: 120, y: 550, r: 70, color: "grey"},
          {type: "circle", x: 250, y: 600, r: 70, color: "grey"},
          {type: "circle", x: 450, y: 600, r: 70, color: "grey"},
          {type: "circle", x: 580, y: 580, r: 70, color: "grey"},
        ]
      },
      {time: 30, name: 'Plate-forme 2 : Veil', description: 'On veut pas toucher les copains avec le veil',
        abilities:
        [
          {id: "veil", name: "Veil", x: 200, y: 50},
          {id: "veil", name: "Veil", x: 500, y: 450},
        ]
      },
      {time: 33, name: 'Plate-forme 2 : Soaks simples & Stacking', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        abilities :
        [
          {id:"soak", name:"Soak", x:610, y: 40},
          {id:"soak", name:"Soak", x:660, y: 220}
        ],
        positions:
        {
          "azuli": {x: 350, y: 350},
          "kehil": {x: 350, y: 350},
          "shamya": {x: 350, y: 350},
          "dumys": {x: 350, y: 350},
          "dedra": {x: 350, y: 350},
          "stonk": {x: 40, y: 660},
          "mongo": {x: 350, y: 350},
          "zaarg": {x: 350, y: 350},
          "giin": {x: 350, y: 350},
          "kailu": {x: 350, y: 350},
          "abrams": {x: 350, y: 350},
          "brins": {x: 350, y: 350},
          "bak": {x: 350, y: 350},
          "tyttu": {x: 350, y: 350},
          "owist": {x: 350, y: 350},
          "lyriel": {x: 350, y: 350},
          "morsia": {x: 350, y: 350},
          "shakk": {x: 350, y: 350},
        }
      },
      {time: 36, name: "Plate-forme 2 : Dispell Stonks", description : "Un healer dispell Stonks avant la Furie",
        positions: {
          "stonk": {x: 350, y: 350},
          "cirdan": {x: 350, y: 350},
          "laukta": {x: 350, y: 350},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 38, name: 'Plate-forme 2 : Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities:
        [
          {id: "fury", name: "Furie", x: 350, y: 350}
        ],
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 41, name: 'Plate-forme 2 : Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        positions: {
          "dedra": {x: 100, y: 280},
          "giin": {x: 500, y: 350},
          "morsia": {x: 450, y: 600},
        }, drawings:
        [
            {type:"line", x1:0, y1:150, x2:400, y2:700},
            {type:"line", x1:0, y1:400, x2:350, y2:0},
            {type:"line", x1:0, y1:600, x2:700, y2:600},
            {type:"line", x1:450, y1:0, x2:450, y2:700},
            {type:"line", x1:0, y1:0, x2:700, y2:500},
            {type:"line", x1:150, y1:700, x2:700, y2:150},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 44, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "mongo": {x:330, y: -50},
          "giin": {x: 350, y: 350},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 47, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 680, y: 20},
          "bak" : {x: 20, y: 20}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 49, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "mongo": {x: 330, y: 330},
          "kailu": {x: 680, y: -50}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 51, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 680, y: 20},
          "bak" : {x: 20, y: -50}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 54, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 350, y: 100},
          "bak": {x: 20, y: 20},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 57, name: 'Plate-forme 2 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "bak": {x: 350, y: 350},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 65, name: 'Plate-forme 2 : Soaks simples', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        positions:
        {
          "cirdan": {x: 600, y: 50},
          "laukta": {x: 650, y: 210}
        },
        abilities :
        [
          {id:"soak", name:"Soak", x:610, y: 40},
          {id:"soak", name:"Soak", x:660, y: 220}
        ], drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 68, name: 'Plate-forme 2 : Déplacement', description: 'On se prépare à quitter la plate-forme',
        positions:
        {
          "azuli": {x: 350, y: 100},
          "kehil": {x: 350, y: 100},
          "shamya": {x: 350, y: 100},
          "dumys": {x: 350, y: 100},
          "cirdan": {x: 350, y: 100},
          "dedra": {x: 350, y: 100},
          "stonk": {x: 350, y: 100},
          "mongo": {x: 350, y: 100},
          "zaarg": {x: 350, y: 100},
          "giin": {x: 350, y: 100},
          "laukta": {x: 350, y: 100},
          "kailu": {x: 350, y: 100},
          "abrams": {x: 350, y: 100},
          "brins": {x: 350, y: 100},
          "bak": {x: 350, y: 100},
          "tyttu": {x: 350, y: 100},
          "owist": {x: 350, y: 100},
          "lyriel": {x: 350, y: 100},
          "morsia": {x: 350, y: 100},
          "shakk": {x: 350, y: 100},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 71, name: 'Plate-forme 2 : Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        drawings:
          [
            {type: "disc", x: 350, y: 100, r: 100, color: "#FFFFFF"},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          ]
      },
      {time: 73, name: 'Plate-forme  : Raze', description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        positions:
        {
          "azuli": {x: 350, y: 0},
          "kehil": {x: 350, y: 0},
          "shamya": {x: 350, y: 0},
          "dumys": {x: 350, y: 0},
          "cirdan": {x: 350, y: 0},
          "dedra": {x: 350, y: 0},
          "stonk": {x: 350, y: 0},
          "mongo": {x: 350, y: 0},
          "zaarg": {x: 350, y: 0},
          "giin": {x: 350, y: 0},
          "laukta": {x: 350, y: 0},
          "kailu": {x: 350, y: 0},
          "abrams": {x: 350, y: 0},
          "brins": {x: 350, y: 0},
          "bak": {x: 350, y: 0},
          "tyttu": {x: 350, y: 0},
          "owist": {x: 350, y: 0},
          "lyriel": {x: 350, y: 0},
          "morsia": {x: 350, y: 0},
          "shakk": {x: 350, y: 0},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 350, y: 100, r: 50, color: "#400040"},
        ]
      },
*/
      // PF 3
      {time: 0, name: 'Plate-forme 3', description: '',
        teleport:
        {
          "azuli": {x: 350, y: 600},
          "kehil": {x: 350, y: 600},
          "shamya": {x: 350, y: 600},
          "dumys": {x: 350, y: 600},
          "cirdan": {x: 350, y: 600},
          "dedra": {x: 350, y: 600},
          "stonk": {x: 350, y: 600},
          "mongo": {x: 350, y: 600},
          "zaarg": {x: 350, y: 600},
          "giin": {x: 350, y: 600},
          "laukta": {x: 350, y: 600},
          "kailu": {x: 350, y: 600},
          "abrams": {x: 350, y: 600},
          "brins": {x: 350, y: 600},
          "bak": {x: 350, y: 600},
          "tyttu": {x: 350, y: 600},
          "owist": {x: 350, y: 600},
          "lyriel": {x: 350, y: 600},
          "morsia": {x: 350, y: 600},
          "shakk": {x: 350, y: 600},
        }
      },      
      {time: 3, name: 'Plate-forme 3 : Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities:
        [
          {id: "fury", name: "Furie", x: 350, y: 350}
        ],
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 6, name: 'Plate-forme 3 : Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        positions: {
          "dedra": {x: 100, y: 280},
          "giin": {x: 500, y: 350},
          "morsia": {x: 450, y: 600},
        }, drawings:
        [
            {type:"line", x1:0, y1:150, x2:400, y2:700},
            {type:"line", x1:0, y1:400, x2:350, y2:0},
            {type:"line", x1:0, y1:600, x2:700, y2:600},
            {type:"line", x1:450, y1:0, x2:450, y2:700},
            {type:"line", x1:0, y1:0, x2:700, y2:500},
            {type:"line", x1:150, y1:700, x2:700, y2:150},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 9, name: 'Plate-forme 3 : Cri', description: "D'ou l'intérêt de se placer dès l'arrivée sur la plate-forme",
        drawings :
        [
          {type: "circle", x: 80, y: 150, r: 70, color: "grey"},
          {type: "circle", x: 200, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 400, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 150, r: 70, color: "grey"},
          {type: "circle", x: 600, y: 50, r: 70, color: "grey"},
          {type: "circle", x: 100, y: 280, r: 70, color: "grey"},
          {type: "circle", x: 210, y: 240, r: 70, color: "grey"},
          {type: "circle", x: 330, y: 330, r: 70, color: "grey"},
          {type: "circle", x: 425, y: 250, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 350, r: 70, color: "grey"},
          {type: "circle", x: 650, y: 230, r: 70, color: "grey"},
          {type: "circle", x: 100, y: 430, r: 70, color: "grey"},
          {type: "circle", x: 230, y: 400, r: 70, color: "grey"},
          {type: "circle", x: 350, y: 450, r: 70, color: "grey"},
          {type: "circle", x: 500, y: 450, r: 70, color: "grey"},
          {type: "circle", x: 600, y: 400, r: 70, color: "grey"},
          {type: "circle", x: 120, y: 550, r: 70, color: "grey"},
          {type: "circle", x: 250, y: 600, r: 70, color: "grey"},
          {type: "circle", x: 450, y: 600, r: 70, color: "grey"},
          {type: "circle", x: 580, y: 580, r: 70, color: "grey"},
        ]
      },
      {time: 12, name: 'Plate-forme 3 : Soaks simples & Stacking', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        abilities :
        [
          {id:"soak", name:"Soak", x:610, y: 40},
          {id:"soak", name:"Soak", x:660, y: 220}
        ],
        positions:
        {
          "azuli": {x: 350, y: 350},
          "kehil": {x: 350, y: 350},
          "shamya": {x: 350, y: 350},
          "dumys": {x: 350, y: 350},
          "dedra": {x: 350, y: 350},
          "stonk": {x: 40, y: 660},
          "mongo": {x: 350, y: 350},
          "zaarg": {x: 350, y: 350},
          "giin": {x: 350, y: 350},
          "kailu": {x: 350, y: 350},
          "abrams": {x: 350, y: 350},
          "brins": {x: 350, y: 350},
          "bak": {x: 350, y: 350},
          "tyttu": {x: 350, y: 350},
          "owist": {x: 350, y: 350},
          "lyriel": {x: 350, y: 350},
          "morsia": {x: 350, y: 350},
          "shakk": {x: 350, y: 350},
        }
      },
      {time: 15, name: 'Plate-forme 3 : Veil', description: 'On veut pas toucher les copains avec le veil',
        abilities:
        [
          {id: "veil", name: "Veil", x: 200, y: 50},
          {id: "veil", name: "Veil", x: 500, y: 450},
        ]
      },
      {time: 17, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "mongo": {x:330, y: -50},
          "giin": {x: 350, y: 350},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 19, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 680, y: 20},
          "bak" : {x: 20, y: 20}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 22, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "mongo": {x: 330, y: 330},
          "kailu": {x: 680, y: -50}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 25, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 680, y: 20},
          "bak" : {x: 20, y: -50}
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 28, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "kailu": {x: 350, y: 100},
          "bak": {x: 20, y: 20},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 31, name: 'Plate-forme 3 : Arrow simples', description: "Ici il faut juste partir et revenir bien à la suite, au bon moment",
        positions :
        {
          "bak": {x: 350, y: 350},
        }, drawings: [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"}
        ]
      },
      {time: 40, name: 'Plate-forme 3 : Furie', description: "A la FIN du cast de la furie, personne ne doit avoir de débuff magique, tous les joueurs qui peuvent dispell la magie doivent surveiller le raid pendant la furie et si besoin, dispell un joueur avec un debuff 1 seconde avant la fin du cast, sinon c'est wipe",
        abilities:
        [
          {id: "fury", name: "Furie", x: 350, y: 350}
        ],
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 43, name: 'Plate-forme 3 : Soaks simples & Stacking', description: "Il est obligatoire de soak, sinon c'est wipe.<br>Des joueurs seront assignés mais ce n'est pas interdit de backup.<br>",
        abilities :
        [
          {id:"soak", name:"Soak", x:610, y: 40},
          {id:"soak", name:"Soak", x:660, y: 220}
        ],
        positions:
        {
          "azuli": {x: 350, y: 350},
          "kehil": {x: 350, y: 350},
          "shamya": {x: 350, y: 350},
          "dumys": {x: 350, y: 350},
          "dedra": {x: 350, y: 350},
          "stonk": {x: 40, y: 660},
          "mongo": {x: 350, y: 350},
          "zaarg": {x: 350, y: 350},
          "giin": {x: 350, y: 350},
          "kailu": {x: 350, y: 350},
          "abrams": {x: 350, y: 350},
          "brins": {x: 350, y: 350},
          "bak": {x: 350, y: 350},
          "tyttu": {x: 350, y: 350},
          "owist": {x: 350, y: 350},
          "lyriel": {x: 350, y: 350},
          "morsia": {x: 350, y: 350},
          "shakk": {x: 350, y: 350},
        }
      },
      {time: 46, name: 'Plate-forme 3 : Couteaux', description: "C'est surtout aux joueurs qui ont les couteaux de s'écarter.<br>Ils doivent cependant s'arrêter 2 secondes avant que les couteaux partent pour laisser le temps au reste du raid de se déplacer si besoin.",
        positions: {
          "dedra": {x: 100, y: 280},
          "giin": {x: 500, y: 350},
          "morsia": {x: 450, y: 600},
        }, drawings:
        [
            {type:"line", x1:0, y1:150, x2:400, y2:700},
            {type:"line", x1:0, y1:400, x2:350, y2:0},
            {type:"line", x1:0, y1:600, x2:700, y2:600},
            {type:"line", x1:450, y1:0, x2:450, y2:700},
            {type:"line", x1:0, y1:0, x2:700, y2:500},
            {type:"line", x1:150, y1:700, x2:700, y2:150},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 49, name: 'Plate-forme 3 : Veil', description: 'On veut pas toucher les copains avec le veil',
        abilities:
        [
          {id: "veil", name: "Veil", x: 200, y: 50},
          {id: "veil", name: "Veil", x: 500, y: 450},
        ]
      },
      {time: 52, name: 'Plate-forme 3 : Déplacement', description: 'On se prépare à quitter la plate-forme',
        positions:
        {
          "azuli": {x: 350, y: 100},
          "kehil": {x: 350, y: 100},
          "shamya": {x: 350, y: 100},
          "dumys": {x: 350, y: 100},
          "cirdan": {x: 350, y: 100},
          "dedra": {x: 350, y: 100},
          "stonk": {x: 350, y: 100},
          "mongo": {x: 350, y: 100},
          "zaarg": {x: 350, y: 100},
          "giin": {x: 350, y: 100},
          "laukta": {x: 350, y: 100},
          "kailu": {x: 350, y: 100},
          "abrams": {x: 350, y: 100},
          "brins": {x: 350, y: 100},
          "bak": {x: 350, y: 100},
          "tyttu": {x: 350, y: 100},
          "owist": {x: 350, y: 100},
          "lyriel": {x: 350, y: 100},
          "morsia": {x: 350, y: 100},
          "shakk": {x: 350, y: 100},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
        ]
      },
      {time: 55, name: 'Plate-forme 3 : Raze & Dispell de masse', description: "Le dispell de masse permet de s'assurer qu'on emporte pas de débuff sur la plate-forme suivante, il existe une WA pour savoir quand il est lancé",
        drawings:
          [
            {type: "disc", x: 350, y: 100, r: 100, color: "#FFFFFF"},
            {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          ]
      },
      {time: 58, name: 'Plate-forme 3 : Raze', description: "On a une période de grâce à la fin du cast de Raze pour partir", 
        positions:
        {
          "azuli": {x: 350, y: 0},
          "kehil": {x: 350, y: 0},
          "shamya": {x: 350, y: 0},
          "dumys": {x: 350, y: 0},
          "cirdan": {x: 350, y: 0},
          "dedra": {x: 350, y: 0},
          "stonk": {x: 350, y: 0},
          "mongo": {x: 350, y: 0},
          "zaarg": {x: 350, y: 0},
          "giin": {x: 350, y: 0},
          "laukta": {x: 350, y: 0},
          "kailu": {x: 350, y: 0},
          "abrams": {x: 350, y: 0},
          "brins": {x: 350, y: 0},
          "bak": {x: 350, y: 0},
          "tyttu": {x: 350, y: 0},
          "owist": {x: 350, y: 0},
          "lyriel": {x: 350, y: 0},
          "morsia": {x: 350, y: 0},
          "shakk": {x: 350, y: 0},
        },
        drawings:
        [
          {type: "disc", x: 40, y: 660, r: 360, color: "#400040"},
          {type: "disc", x: 350, y: 100, r: 50, color: "#400040"},
        ]
      },



      {time: 600, name: 'Plate-forme 4 : The end', description: 'Tuer ou être tué'
      },
    ];

    rl.setEvents(events);

    window.onload = function() {
      rl.setPlan(document.getElementById("plan"));
      rl.setItems(items);
      rl.setAbilities(abilities);
      rl.start();
    };

    </script>
</html>